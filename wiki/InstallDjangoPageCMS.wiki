#summary Explain how to integrate django page cms into a legacy django project

=Install in legacy project=

==Install by using subversion externals==

You can use the released version of the Django page CMS by using subversion externals

{{{
$ svn pe svn:externals .
pages                   http://django-page-cms.googlecode.com/svn/tags/django-page-cms-0.1
mptt                    http://django-mptt.googlecode.com/svn/trunk/mptt
tagging                 http://django-tagging.googlecode.com/svn/trunk/tagging
}}}

Or if you want the latest version

{{{
pages                   http://django-page-cms.googlecode.com/svn/trunk/pages
}}}

Tagging is optional. If you don't want it please set PAGE_TAGGING setting to False in your settings. After that simply add wanted apps to your installed apps :

{{{
INSTALLED_APPS = (
    ...
    'tagging',
    'pages',
)
}}}

MPTT seems to work without being added to installed apps.

==Urls and settings==

Please take a look in the urls.py of the default project and copy desired urls in your settings. Basically you need to have something like this:

{{{
urlpatterns = patterns('',
    url(r'^pages/', include('pages.urls')),
    (r'^admin/(.*)', admin.site.root),
)
}}}

For the settings have a look in pages/settings.py for available options.

Add django.core.context_processors.request and pages.context_processors.media to your TEMPLATE_CONTEXT_PROCESSORS and django.middleware.locale.LocaleMiddleware middleware to MIDDLEWARE_CLASSES.

{{{
TEMPLATE_CONTEXT_PROCESSORS = (
    ...
    "django.core.context_processors.media",
    ...
)

INTERNAL_IPS = ('127.0.0.1',)

MIDDLEWARE_CLASSES = (
    ...
    'django.middleware.locale.LocaleMiddleware',
    ...
)
}}}

You also have to set DEFAULT_PAGE_TEMPLATE to the name of your default CMS template. And LANGUAGES with wanted languages.

{{{
LANGUAGES = (
    ('fr', gettext_noop('French')),
    ('de', gettext_noop('German')),
    ('en', gettext_noop('English')),
)

DEFAULT_PAGE_TEMPLATE = 'index.html'
}}}

Optionally you can set PAGE_TEMPLATES if you want additional templates choices:

{{{
# Could be set to None if you don't need multiple templates.
PAGE_TEMPLATES = (
    ('nice.html', 'nice one'),
    ('cool.html', 'cool one'),
)
}}}